---
title: "기초: 반복문"
order: 30
category: 노트
layout: note

diff: 28

written: "2021-01-20 23:34"
edited: "2021-01-28 22:58"
---

반복문은 일부분의 코드를 일정 횟수만큼 반복적으로 실행시킬 수 있게 하는 문법이다. 반복 구문에는 `for`과 `loop`이 있으며, `foreach` 구문도 있으나 언어에 따라 `for`로 표현하기도 하며 명시적으로 `foreach` 구문임을 표현하는 언어(ex) C#)도 있다.

### for문

`for`문의 형태는 다음과 같다.

```cpp
for(초기식; 조건식; 증감문) {
    ...
}
```

`초기식`은 `for`문이 실행되기 시작할 때 한 번 호출되는 구문이다. `조건식`은 루프를 계속 실행할지 판단하는 구문으로 `true`면 루프가 계속된다. `증감문`은 매 루프가 끝날 때마다 한 번씩 실행되며, `증감문`을 실행한 직후 `조건식`을 판별하여 루프의 계속 또는 탈출을 결정한다.

예시는 아래와 같다. 0부터 5개의 제곱수를 출력하는 코드이다.

```cpp
for(int i = 0; i < 5; i++) {
    cout << i * i << endl;
}
```

일반적으로 `초기식`에는 loop의 조건을 판별할 임시 변수를 선언하고 `조건식`은 임시 변수의 값이 일정 범위일 때 반복문을 계속할지를 판별하고, `증감문`에는 `++`나 `--` 같은 증가/감소 연산자 또는 `+=`, `-=`와 같은 복합대입연산자를 사용하여 임시 변수의 값을 변경한다. 하지만 꼭 이렇게 할 필요는 없다. 루프에 사용할 변수가 없다면 `초기식` 자리를 비워도 되며, 원래 있는 변수의 값을 바꾸어 그 변수를 임시 변수로 사용할 수도 있다. 아니면 그냥 함수를 실행하기도 한다! 다른 곳도 마찬가지이다. `조건식`을 비워 무한루프로 돌아가게끔 할 수도 있고, `증감문`에 `scanf`를 넣어서 숏코딩을 하거나 루프 내에서 처리하기 위해 비우기도 한다. 그냥 실행되는 순서에 맞게만 돌아가게 아무렇게나 넣어도 된다. 그 예시로 숏코드 하나를 첨부한다. {% include boj_info.html num=1074 %} 문제 C99 1위 코드이다.

```c
r,c,x;main(n){for(scanf("%d%d%d",&n,&r,&c);n+1;)x+=(2*r&2<<n|c&1<<n)<<n--;printf("%d",x);}
```

위의 초기식을 보면 `scanf`이고, 증감문은 비어있다. 조건식은 C언어의 특성에 따른 `int` 값을 참/거짓으로 판별하는 것을 이용하여 `n != -1`이면 루프를 계속 실행하도록 했다.

아래는 `for`문의 초기식, 조건식, 증감문이 실행되는 순서이다.

1. 반복문을 실행하기 전에 `초기식` 실행
1. `조건식`을 판별하여 `true`이면 루프 진입
1. 루프 내부 코드 실행
1. `증감문` 실행
1. `조건식`이 `false`이면 loop 탈출, 아니면 루프 실행(3으로 이동)

#### break와 continue

루프를 도는 도중에 루프를 탈출하거나, 도중에 루프를 종료하고 조건식으로 루프 탈출 조건을 판별할 필요가 생길 수 있다. 이 때를 위해 `break`와 `continue`라는 키워드가 존재한다. `break`는 루프 자체를 지금 즉시 탈출하라는 의미로 사용하며, `continue`는 지금 즉시 현재 루프를 종료하고 증감문을 실행하는 단계로 이동한다. 예시는 아래와 같다.

```cpp
int n;
for (int i = 0; i < 5; i++) { // 루프 내부의 코드를 5번 실행
    cin >> n;
    if (n == 0) break; // 입력받은 정수가 0이면 루프 즉시 탈출
}
```

```cpp
int n;
for (int i = 0; i < 5; i++) {
    cin >> n;
    if (n < 0) continue; // 입력받은 정수가 음수이면 즉시 증감문 실행 후 조건식 판별
    cout << (n << 4);
}
```

#### foreach문

비록 `foreach`를 `for`의 하위 구문으로 정리하긴 했지만, 역사는 이 `foreach` 구문이 조금 더 길다. `for`문의 현재 형태는 C언어의 정의 때 본격적으로 사용되기 시작했고, 그 이전에는 `foreach` 형태의 반복문을 사용했다. 이 `foreach`문은 C/C++/Java/Python 중에서는 Java와 Python에서 사용할 수 있는데, 둘 모두 `foreach`라고 명시하지는 않고 `for`을 사용한다. `foreach`문의 형태는 아래와 같다.

```java
public class Main {
    public static void main(String[] args) {
        int a[] = new int[]{1, 2, 3, 4, 5};

        for (int i : a) { // a의 각 원소 i에 대하여
            System.out.println(i * i); // 제곱을 출력
        }
    }
}
```

```python
a = [1, 2, 3, 4, 5]
for i in a:
    print(i * i)
```

```python
a = [1, 2, 3, 4, 5]
print([i * i for i in a])
```

배열, 리스트와 같은 iterable한 오브젝트(포함된 원소를 순회할 수 있는 물리적/논리적 구조를 가진 오브젝트)의 모든 원소를 순회하는 의미로 사용한다. 위의 코드는 원소가 1, 2, 3, 4, 5인 리스트의 모든 원소를 순회하여 각 원소의 제곱값을 출력하는 코드이다. `for`문과 구조를 비교해보면 초기식, 조건식, 증감문의 개념이 없고 단순히 iterable 하나만 입력하여 iterable의 원소 전체를 순회한다.

### while문

`while`문은 `for`문에 비해 구조가 간단하다. `for`문에서 초기식과 증감문이 빠진 형태이다. 구조는 아래와 같다.

```cpp
while(조건식) {
    ...
}
```

```python
while 조건식:
    ...
```

`while`문은 `조건식`이 `true`이면 루프를 계속 진행한다. `for(;조건식;){}`과 작동 방식이 비슷하다고 볼 수 있다. 작동 순서는 아래와 같다.

1. `조건식`이 `true`이면 루프 진입
1. 루프 실행
1. `조건식`이 `false`이면 루프 탈출, 아니면 계속 진행(2로 이동)

그렇다면 초기식과 증감문이 필요하다면 어떻게 해야될까? 초기식은 `while`문 앞에, 증감문은 루프 마지막에 추가하면 된다. 그렇게 하면 결국 `for`문과 유사하게 작동한다. 위의 제곱수를 더하는 `for` 구문을 `while`로 바꿔보면 아래와 같이 된다.

```cpp
int i = 0;
while (i < 5) {
    cout << i * i << endl;
    i++;
}
```

#### break와 continue

`for`문과 마찬가지로 `while`문에도 `break`와 `continue`를 사용할 수 있다. 그 용도는 `for`문에서의 용도와 같다. 다만 `while`문에는 증감문이 없으므로 `break`은 루프 탈출, `continue`는 조건식 판별 단계로 넘어간다.

#### do-while문

`while`문과 닮은꼴로 `do-while`문이 존재한다. 다만 Python에는 존재하지 않는 구문이다. 구조는 아래와 같다.

```cpp
do {
    ...
} while(조건식);
```

작동 순서는 위의 `while`문 작동 순서에서 1이 조건식을 판단하지 않고 일단 루프로 진입하는 것으로 바뀐다.

1. 루프 진입
1. 루프 실행
1. `조건식`이 `true`이면 루프 계속 진행(2로 이동)

위키피디아에는 아래의 구문과 `do-while`문이 기술적으로 동치라고 설명한다.

```cpp
while(true) {
    ...
    if (!(조건식)) break;
}
```

위의 코드는 아래와 같이 바꿔도 똑같이 작동할 것이다.

```cpp
while(true) {
    ...
    if (조건식) continue;
    break;
}
```

### 반복문 속의 반복문

반복문 안에는 반복문이 들어갈 수 있다. 예를 들어, `*` 문자를 6개씩 4줄을 출력하고 싶다고 가정하면 이렇게 코드를 적을 수 있다.

```cpp
for (int i = 0; i < 4; i++) {
    for (int j = 0; j < 6; j++) {
        printf("*");
    }
    printf("\n");
}
```

위의 예시는 `for` 안에 `for`이 들어간 형태이지만, `for` 안에 `while`, `while` 안에 `for`, `while` 안에 `while` 또한 모두 가능하다. 게다가 바깥의 반복문에서 사용하는 임시 변수를 안의 반복문에서 반복문 탈출 조건으로 사용할 수 있다. 아래처럼 말이다.

```cpp
int n = 4;
for (int i = 0; i < n; i++) {
    for (int j = 0; j <= i; j++) {
        cout << j;
    }
    cout << endl;
}
// Output
// 0
// 01
// 012
// 0123
```

위의 예시는 `i`번째 줄에 `0`부터 `i - 1`까지 순서대로, 4줄 출력하는 코드이다.

반복문을 2번 중첩할 수도 있지만 무한히 중첩시킬 수 있다. 굳이 저렇게 반복문을 여러 번 중첩해야 하는지에 대한 의문이 들 수도 있지만, 3중 반복문을 사용하는 알고리즘인 <a href="" class="invalid">플로이드-와셜 알고리즘</a>(추가 예정)도 있다. 실제로 사용하는 알고리즘이다!

### 정리

- for문
  - for(초기식;조건식;증감문){ }
  - foreach문
    - for(변수 in iterable){ }
- while문
  - while(조건식){ }
  - do-while문
    - do{ }while(조건식);
- break/continue
- 반복문 안에 반복문 안에 반복문 ...